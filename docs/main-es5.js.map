{"version":3,"sources":["webpack:///ngx-weditor/src/lib/editor/editor.component.ts","webpack:///ngx-weditor/src/lib/editor/editor.component.html","webpack:///ngx-weditor/src/lib/editor/resizer/resizer.component.ts","webpack:///ngx-weditor/src/lib/editor/resizer/resizer.component.html","webpack:///ngx-weditor/src/lib/ngx-weditor.component.ts","webpack:///ngx-weditor/src/lib/ngx-weditor.module.ts","webpack:///ngx-weditor/src/lib/ngx-weditor.service.ts","webpack:///ngx-weditor/src/lib/shared/directives/resizable-image/resizable-image.directive.ts","webpack:///ngx-weditor/src/lib/shared/services/utils/utils.service.ts","webpack:///ngx-weditor/src/lib/toolbar/image-form/image-form.component.ts","webpack:///ngx-weditor/src/lib/toolbar/image-form/image-form.component.html","webpack:///ngx-weditor/src/lib/toolbar/link-form/link-form.component.ts","webpack:///ngx-weditor/src/lib/toolbar/link-form/link-form.component.html","webpack:///ngx-weditor/src/lib/toolbar/popover/popover.component.ts","webpack:///ngx-weditor/src/lib/toolbar/popover/popover.component.html","webpack:///ngx-weditor/src/lib/toolbar/toolbar.component.ts","webpack:///ngx-weditor/src/lib/toolbar/toolbar.component.html","webpack:///ngx-weditor/src/lib/toolbar/video-form/video-form.component.ts","webpack:///ngx-weditor/src/lib/toolbar/video-form/video-form.component.html","webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["EditorComponent","editor","utils","inputChange","blurChange","focusChange","blockToolbar","editorArea","editorAreaEl","nativeElement","patchedValue","innerHTML","innerText","changes","MutationObserver","mutations","observe","attributes","childList","characterData","subtree","subscribe","html","showCode","disconnect","evt","emit","target","selection","getSelection","selectedText","getSelectedText","attrs","Object","keys","map","key","isResizable","some","attr","test","name","updateResizer","clearResizer","pipe","value","element","resizableElement","state","remove","onEditorFocus","onEditorBlur","onEditorInput","onEditorClick","selector","templateUrl","styleUrls","ResizerComponent","renderer","removeResizable","startPosition","resizerOverlay","overlay","setStyles","firstChange","clientX","clientY","shiftKey","rClientWidth","clientWidth","rCLientHeight","clientHeight","rClientX","x","rClientY","y","positionX","positionY","ratio","posHeightCal","pos","roundMaxVal","stopResizing","setStyle","body","document","querySelector","mouseMoveEvent","onMouseMove","bind","mouseUpEvent","unsubscribe","styles","forEach","val","Math","round","max","display","height","width","left","offsetLeft","top","offsetTop","pstyles","startResizing","setResizableStyle","trashResizable","NgxWeditorComponent","elementRef","editorInput","editorBlur","editorFocus","hideModals","onChange","setProperty","fn","onTouched","isDisabled","disabled","execute","provide","useExisting","multi","applyStyle","showInnerCode","template","providers","NgxWeditorModule","imports","declarations","exports","NgxWeditorService","ppatchedValue","pselection","pselectedText","pinnerHTML","pinnerText","command","execCommand","disabledToolbar","asObservable","next","text","providedIn","ResizableImageDirective","el","update","image","UtilsService","window","sel","getRangeAt","rangeCount","createRange","toString","range","removeAllRanges","addRange","select","ImageFormComponent","fb","save","hasSelectedText","selectionData","buildForm","endContainer","parentNode","formData","localName","link","src","form","patchValue","title","valid","restoreSelection","popoverRef","hide","reset","err","console","log","resetForm","group","required","handleSubmit","LinkFormComponent","href","getTarget","targetValue","textValue","PopoverComponent","showSubject","showSubs","show","active","event","clickedInside","popover","contains","ToolbarComponent","apply","showImageSettings","style","length","VideoFormComponent","isValidURL","verifyURL","urlObj","parseURL","imageSrc","id","url","splitted","split","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","module","AppComponent","content","AppModule","bootstrap","environment","production","bootstrapModule","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Input,\n  Output,\n  ViewChild,\n  EventEmitter,\n  ElementRef\n} from '@angular/core'\nimport { of } from 'rxjs'\nimport { throttleTime, distinctUntilChanged } from 'rxjs/operators'\n\nimport { NgxWeditorService } from '../ngx-weditor.service'\nimport { UtilsService } from '../shared/services/utils/utils.service'\n\n@Component({\n  selector: 'app-editor',\n  templateUrl: './editor.component.html',\n  styleUrls: ['./editor.component.scss']\n})\nexport class EditorComponent implements OnInit, OnDestroy {\n  @Input() showCode: boolean\n  @Output() inputChange: EventEmitter<any> = new EventEmitter<any>()\n  @Output() blurChange: EventEmitter<any> = new EventEmitter<any>()\n  @Output() focusChange: EventEmitter<any> = new EventEmitter<any>()\n\n  @ViewChild('editorAreaEl', { static: true }) editorAreaEl: ElementRef\n  @ViewChild('resizer') resizer: ElementRef\n\n  private changes: MutationObserver\n\n  innerHTML: any\n  resizableElement: any\n  blockToolbar = false\n\n  constructor(public editor: NgxWeditorService, public utils: UtilsService) {}\n\n  ngOnInit() {\n    const editorArea = this.editorAreaEl.nativeElement\n\n    if (!!this.editor.patchedValue) {\n      editorArea.innerHTML = this.editor.patchedValue\n      this.editor.innerHTML = editorArea.innerHTML\n      this.editor.innerText = editorArea.innerText\n    }\n\n    this.innerHTML = editorArea.innerHTML\n\n    this.changes = new MutationObserver((mutations: MutationRecord[]) => {\n      this.editor.innerHTML = editorArea.innerHTML\n      this.editor.innerText = editorArea.innerText\n    })\n\n    this.changes.observe(editorArea, {\n      attributes: true,\n      childList: true,\n      characterData: true,\n      subtree: true\n    })\n\n    this.editor.innerHTML.subscribe((html) => {\n      if (!this.showCode) {\n        this.innerHTML = html\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    this.changes.disconnect()\n  }\n\n  onEditorInput(evt) {\n    this.inputChange.emit(evt.target)\n  }\n\n  onEditorFocus(evt): void {\n    this.focusChange.emit(evt)\n  }\n\n  onEditorBlur(evt): void {\n    this.editor.selection = this.utils.getSelection()\n    this.editor.selectedText = this.utils.getSelectedText()\n    this.blurChange.emit(evt)\n  }\n\n  onEditorClick(evt) {\n    const { target } = evt\n    const { attributes } = target\n\n    const attrs = Object.keys(attributes).map((key) => attributes[key])\n\n    const isResizable = attrs.some((attr) => /resizable/gim.test(attr.name))\n\n    if (!!isResizable) {\n      this.updateResizer(target)\n    } else {\n      this.clearResizer()\n    }\n  }\n\n  updateHTML({ target }) {\n    of(target)\n      .pipe(distinctUntilChanged(), throttleTime(1000))\n      .subscribe(({ value, innerText }) => {\n        this.editor.innerHTML = value\n        this.editorAreaEl.nativeElement.innerHTML = value\n        this.inputChange.emit({ innerHTML: value, innerText, value })\n      })\n  }\n\n  updateResizer(element) {\n    this.resizableElement = element\n    this.editor.blockToolbar({ state: true })\n  }\n\n  removeResizable() {\n    this.resizableElement.remove()\n    this.resizableElement = null\n  }\n\n  private clearResizer() {\n    this.resizableElement = null\n    this.editor.blockToolbar({ state: false })\n  }\n}\n","<div class=\"editor\">\n  <div class=\"editable-container\" contenteditable=\"true\"\n    (focus)=\"onEditorFocus($event)\"\n    (blur)=\"onEditorBlur($event)\"\n    (input)=\"onEditorInput($event)\"\n    (click)=\"onEditorClick($event)\" #editorAreaEl>\n  </div>\n  <textarea [ngClass]=\"{'visible': showCode }\" (input)=\"updateHTML($event)\" *ngIf=\"showCode\">{{ innerHTML }}</textarea>\n  <app-resizer\n    [resizableElement]=\"resizableElement\"\n    (removeResizable)=\"removeResizable()\"\n    *ngIf=\"!!resizableElement\" #resizer>\n  </app-resizer>\n</div>\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  OnChanges,\n  EventEmitter,\n  Renderer2,\n  ViewChild,\n  SimpleChanges\n} from '@angular/core'\nimport { Subscription, fromEvent } from 'rxjs'\n\n@Component({\n  selector: 'app-resizer',\n  templateUrl: './resizer.component.html',\n  styleUrls: ['./resizer.component.scss']\n})\nexport class ResizerComponent implements OnInit, OnChanges {\n  @Input() resizableElement: any\n  @Output() removeResizable: EventEmitter<any> = new EventEmitter<any>()\n\n  @ViewChild('overlay', { static: true }) overlay: any\n  @ViewChild('stylesBar', { static: true }) stylesBar: any\n\n  private pstyles: any\n\n  mouseMoveEvent: Subscription\n  mouseUpEvent: Subscription\n  resizerOverlay: any\n  startPosition: any = {}\n\n  constructor(private renderer: Renderer2) {}\n\n  get styles() {\n    return this.pstyles\n  }\n\n  set styles(styles) {\n    this.pstyles = styles\n  }\n\n  ngOnInit() {\n    this.resizerOverlay = this.overlay.nativeElement\n\n    this.setStyles(this.resizableElement)\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!changes.firstChange) {\n      this.setStyles(this.resizableElement)\n    }\n  }\n\n  // @HostListener('document:mousemove', ['$event'])\n  onMouseMove(evt) {\n    const { clientX, clientY, shiftKey } = evt\n\n    const rClientWidth = this.resizableElement.clientWidth\n    const rCLientHeight = this.resizableElement.clientHeight\n    const rClientX = this.resizableElement.x\n    const rClientY = this.resizableElement.y\n\n    const positionX = rClientWidth + (clientX - rClientWidth - rClientX)\n    const positionY = rCLientHeight + (clientY - rCLientHeight - rClientY)\n\n    const ratio = positionY / positionX\n\n    const posHeightCal = !!shiftKey\n      ? (rCLientHeight / rClientWidth) * positionX\n      : positionX * ratio\n\n    const pos = {\n      x: this.roundMaxVal(positionY / ratio),\n      y: this.roundMaxVal(posHeightCal)\n    }\n\n    if (pos.x <= 100 || pos.y <= 100) {\n      return this.stopResizing()\n    }\n\n    this.renderer.setStyle(this.resizableElement, 'width', `${pos.x}px`)\n    this.renderer.setStyle(this.resizableElement, 'height', `${pos.y}px`)\n\n    this.setStyles(this.resizableElement)\n  }\n\n  startResizing(evt) {\n    const { target } = evt\n    const body = document.querySelector('body')\n\n    this.mouseMoveEvent = fromEvent(body, 'mousemove').subscribe(\n      this.onMouseMove.bind(this)\n    )\n\n    this.mouseUpEvent = fromEvent(document, 'mouseup').subscribe(\n      this.stopResizing.bind(this)\n    )\n  }\n\n  stopResizing() {\n    this.mouseMoveEvent.unsubscribe()\n    this.mouseUpEvent.unsubscribe()\n  }\n\n  setResizableStyle(styles) {\n    Object.keys(styles)\n      .map((key) => ({ key, value: styles[key] }))\n      .forEach(({ key, value }) => {\n        this.renderer.setStyle(this.resizableElement, key, value)\n      })\n\n    this.setStyles(this.resizableElement)\n  }\n\n  trashResizable() {\n    this.removeResizable.emit()\n  }\n\n  private roundMaxVal(val) {\n    return Math.round(Math.max(0, val))\n  }\n\n  private setStyles(styles) {\n    this.styles = !!styles\n      ? {\n          display: 'block',\n          height: `${styles.height + 10}px`,\n          width: `${styles.width + 10}px`,\n          left: `${styles.offsetLeft + 5}px`,\n          top: `${styles.offsetTop + 5}px`,\n          x: styles.x,\n          y: styles.y\n        }\n      : {\n          display: 'none'\n        }\n  }\n}\n","<div class=\"resizer\">\n\n  <div class=\"resizer-overlay\" [ngStyle]=\"styles\" #overlay>\n    <div class=\"resizer-background\"></div>\n    <div class=\"resizer-corner resizer-corner-tl\"></div>\n    <div class=\"resizer-corner resizer-corner-tr\"></div>\n    <div class=\"resizer-corner resizer-corner-bl\"></div>\n    <div\n      class=\"resizer-corner resizer-corner-br\"\n      (mousedown)=\"startResizing($event)\"\n    ></div>\n    <div class=\"resizer-info\">\n      {{ resizableElement?.clientWidth || 0 }} x\n      {{ resizableElement?.clientHeight || 0 }}\n    </div>\n  </div>\n\n  <div class=\"styles-bar\">\n    <div class=\"btn-group field has-addons\">\n      <button\n        type=\"button\"\n        class=\"button is-small\"\n        (click)=\"setResizableStyle({ width: '100%', display: 'block' })\"\n      >\n        100%\n      </button>\n      <button\n        type=\"button\"\n        class=\"button is-small\"\n        (click)=\"setResizableStyle({ width: '50%', display: 'block' })\"\n      >\n        50%\n      </button>\n      <button\n        type=\"button\"\n        class=\"button is-small\"\n        (click)=\"setResizableStyle({ width: '25%', display: 'block' })\"\n      >\n        25%\n      </button>\n    </div>\n\n    <div class=\"btn-group field has-addons\">\n      <button\n        type=\"button\"\n        class=\"button is-small\"\n        (click)=\"setResizableStyle({ float: 'left' })\"\n      >\n        <i class=\"fa fa-align-left\"></i>\n      </button>\n      <button\n        type=\"button\"\n        class=\"button is-small\"\n        (click)=\"\n          setResizableStyle({\n            float: 'none',\n            display: 'block',\n            margin: '0 auto'\n          })\n        \"\n      >\n        <i class=\"fa fa-align-center\"></i>\n      </button>\n      <button\n        type=\"button\"\n        class=\"button is-small\"\n        (click)=\"setResizableStyle({ float: 'right' })\"\n      >\n        <i class=\"fa fa-align-right\"></i>\n      </button>\n    </div>\n\n    <div class=\"btn-group field has-addons\">\n      <button\n        type=\"button\"\n        class=\"button is-small\"\n        title=\"Trash\"\n        (click)=\"trashResizable()\"\n      >\n        <i class=\"fas fa-trash-alt\"></i>\n      </button>\n    </div>\n  </div>\n</div>\n","import {\n  Component,\n  OnInit,\n  ViewChild,\n  forwardRef,\n  Output,\n  EventEmitter,\n  ElementRef,\n  Renderer2\n} from '@angular/core'\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms'\n\nimport { ToolbarComponent } from './toolbar/toolbar.component'\nimport { EditorComponent } from './editor/editor.component'\n\nimport { NgxWeditorService } from './ngx-weditor.service'\n\n@Component({\n  selector: 'ngx-weditor',\n  template: `\n    <div class=\"ngx-weditor\">\n      <app-toolbar\n        (apply)=\"applyStyle($event)\"\n        (showCode)=\"showInnerCode()\"\n        #toolbarEl\n      >\n      </app-toolbar>\n      <app-editor\n        [showCode]=\"showCode\"\n        (focusChange)=\"onEditorFocus($event)\"\n        (blurChange)=\"onEditorBlur($event)\"\n        (inputChange)=\"onEditorInput($event)\"\n        #editorEl\n      >\n      </app-editor>\n    </div>\n  `,\n  styleUrls: ['./styles.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NgxWeditorComponent),\n      multi: true\n    }\n  ]\n})\nexport class NgxWeditorComponent implements ControlValueAccessor, OnInit {\n  @Output() editorInput = new EventEmitter<any>()\n  @Output() editorBlur = new EventEmitter<any>()\n  @Output() editorFocus = new EventEmitter<any>()\n\n  @ViewChild('toolbarEl') toolbarEl: ToolbarComponent\n  @ViewChild('editorEl') editorEl: EditorComponent\n\n  onChange: (params) => void\n  onTouched: (params) => void\n\n  disabled: boolean\n  value: any\n\n  innerHTML: string\n  innerText: string\n\n  showCode = false\n  hideModals = true\n\n  constructor(\n    private elementRef: ElementRef,\n    private renderer: Renderer2,\n    public editor: NgxWeditorService\n  ) {}\n\n  ngOnInit() {\n    this.editor.innerHTML.subscribe((html) => {\n      this.innerHTML = html\n      if (html !== this.value) {\n        this.editorInput.emit({ innerHTML: html })\n        this.onChange(html)\n      }\n    })\n  }\n\n  writeValue(value: any): void {\n    this.value = value\n    this.editor.patchedValue = value\n\n    this.renderer.setProperty(this.elementRef.nativeElement, 'value', value)\n  }\n\n  registerOnChange(fn: (_: any) => void): void {\n    this.onChange = fn\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled\n\n    this.renderer.setProperty(\n      this.elementRef.nativeElement,\n      'disabled',\n      isDisabled\n    )\n  }\n\n  applyStyle({ key, value }): void {\n    this.editor.execute(key, value)\n  }\n\n  onEditorInput({ innerHTML, innerText }) {\n    this.innerHTML = innerHTML\n    this.innerText = innerText\n\n    this.editorInput.emit({ innerHTML, innerText })\n\n    this.onChange(this.innerHTML)\n  }\n\n  onEditorFocus(evt): void {\n    this.editorFocus.emit(evt)\n  }\n\n  onEditorBlur(evt): void {\n    this.editorBlur.emit(evt)\n  }\n\n  showInnerCode(): void {\n    this.showCode = !this.showCode\n    if (this.showCode) {\n      this.editor.blockToolbar({ state: true })\n    } else {\n      this.editor.blockToolbar({ state: false })\n    }\n  }\n}\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms'\n\nimport { NgxWeditorComponent } from './ngx-weditor.component'\nimport { ToolbarComponent } from './toolbar/toolbar.component'\nimport { EditorComponent } from './editor/editor.component'\n\nimport { NgxWeditorService } from './ngx-weditor.service'\nimport { UtilsService } from './shared/services/utils/utils.service'\nimport { LinkFormComponent } from './toolbar/link-form/link-form.component'\nimport { VideoFormComponent } from './toolbar/video-form/video-form.component'\nimport { ImageFormComponent } from './toolbar/image-form/image-form.component'\nimport { PopoverComponent } from './toolbar/popover/popover.component'\nimport { ResizableImageDirective } from './shared/directives/resizable-image/resizable-image.directive'\nimport { ResizerComponent } from './editor/resizer/resizer.component'\n\n@NgModule({\n  imports: [CommonModule, ReactiveFormsModule, FormsModule],\n  declarations: [\n    NgxWeditorComponent,\n    ToolbarComponent,\n    EditorComponent,\n    LinkFormComponent,\n    VideoFormComponent,\n    ImageFormComponent,\n    PopoverComponent,\n    ResizableImageDirective,\n    ResizerComponent\n  ],\n  exports: [NgxWeditorComponent],\n  providers: [NgxWeditorService, UtilsService]\n})\nexport class NgxWeditorModule {}\n","import { Injectable } from '@angular/core'\nimport { Subject } from 'rxjs'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxWeditorService {\n  private ppatchedValue = null\n  private pselection = null\n  private pselectedText = null\n  private pinnerHTML = new Subject<any>()\n  private pinnerText = new Subject<any>()\n\n  public disabledToolbar: false\n\n  constructor() {}\n\n  get innerHTML(): any {\n    return this.pinnerHTML.asObservable()\n  }\n\n  set innerHTML(html) {\n    this.pinnerHTML.next(html)\n  }\n\n  get innerText(): any {\n    return this.pinnerText.asObservable()\n  }\n\n  set innerText(text) {\n    this.pinnerText.next(text)\n  }\n\n  get selection(): any {\n    return this.pselection\n  }\n\n  set selection(selection) {\n    this.pselection = selection\n  }\n\n  get patchedValue(): any {\n    return this.ppatchedValue\n  }\n\n  set patchedValue(value) {\n    this.ppatchedValue = value\n  }\n\n  get selectedText(): any {\n    return this.pselectedText\n  }\n\n  set selectedText(selectedText) {\n    this.pselectedText = selectedText\n  }\n\n  execute(command: string, value: any = ''): void {\n    document.execCommand(command, false, value)\n  }\n\n  blockToolbar({ state }) {\n    this.disabledToolbar = state\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  HostListener,\n  Output,\n  EventEmitter\n} from '@angular/core'\n\n@Directive({\n  selector: '[appResizableImage]'\n})\nexport class ResizableImageDirective {\n  @Output() update = new EventEmitter<any>()\n\n  public image: any\n\n  constructor(private el: ElementRef) {\n    this.image = this.el.nativeElement\n  }\n\n  @HostListener('mousedown') onMouseDown() {\n    this.update.emit(this.image)\n  }\n}\n","import { Injectable } from '@angular/core'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilsService {\n  constructor() {}\n\n  getSelection(): any {\n    if (window.getSelection) {\n      const sel = window.getSelection()\n      if (sel.getRangeAt && sel.rangeCount) {\n        return sel.getRangeAt(0)\n      }\n    } else if (document.getSelection && document.createRange) {\n      return document.createRange()\n    }\n\n    return null\n  }\n\n  getSelectedText() {\n    return window.getSelection().toString()\n  }\n\n  restoreSelection(range): boolean {\n    if (range) {\n      if (window.getSelection) {\n        const sel = window.getSelection()\n        sel.removeAllRanges()\n        sel.addRange(range)\n        return true\n      } else if (document.getSelection && range.select) {\n        range.select()\n        return true\n      }\n    } else {\n      return false\n    }\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\n\nimport { NgxWeditorService } from '../../ngx-weditor.service'\nimport { UtilsService } from '../../shared/services/utils/utils.service'\n\n@Component({\n  selector: 'app-image-form',\n  templateUrl: './image-form.component.html',\n  styleUrls: ['./image-form.component.scss']\n})\nexport class ImageFormComponent implements OnInit {\n  @Input() popoverRef: any\n  @Output() save: EventEmitter<any> = new EventEmitter<any>()\n\n  form: FormGroup\n  hasSelectedText = false\n  selectionData: any = {}\n\n  constructor(\n    private fb: FormBuilder,\n    public utils: UtilsService,\n    public editor: NgxWeditorService\n  ) {}\n\n  ngOnInit() {\n    this.hasSelectedText = !!this.editor.selectedText\n    this.buildForm()\n\n    this.selectionData = this.editor.selection\n      ? this.editor.selection.endContainer.parentNode\n      : {}\n\n    if (this.hasSelectedText) {\n      const formData =\n        this.selectionData.localName === 'img'\n          ? {\n              link: this.selectionData.src\n            }\n          : {}\n\n      this.form.patchValue({ ...formData })\n    }\n  }\n\n  handleSubmit() {\n    const { link, title } = this.form.value\n    const { valid } = this.form\n\n    if (valid) {\n      this.utils.restoreSelection(this.editor.selection)\n      this.save.emit({\n        key: 'insertHTML',\n        value: `<div class=\"image-wrapper\">\n          <img src=\"${link}\" title=\"${title}\" appResizableImage (update)=\"updateResizer($event)\">\n        </div>`\n      })\n      this.popoverRef.hide()\n    } else {\n      // this.feedback.error = `All fields are required!`;\n    }\n  }\n\n  resetForm() {\n    if (this.form) {\n      this.form.reset()\n      this.buildForm()\n    }\n  }\n\n  private onError(err) {\n    console.log('error ', err)\n  }\n\n  private onDone() {\n    this.resetForm()\n  }\n\n  private buildForm() {\n    this.form = this.fb.group({\n      link: ['http://', Validators.required],\n      title: ['']\n    })\n  }\n}\n","<div class=\"image-form\">\n  <h6 class=\"subtitle is-6\">Image configuration</h6>\n  <form novalidate (ngSubmit)=\"handleSubmit()\" [formGroup]=\"form\">\n    <div class=\"field\">\n      <div class=\"control\">\n        <input\n          type=\"text\"\n          class=\"input is-small\"\n          placeholder=\"Title text\"\n          formControlName=\"title\"\n        />\n      </div>\n    </div>\n    <div class=\"field\">\n      <div class=\"control\">\n        <input\n          type=\"text\"\n          class=\"input is-small\"\n          placeholder=\"Link URL\"\n          formControlName=\"link\"\n        />\n      </div>\n    </div>\n    <div class=\"form-actions\">\n      <button type=\"submit\" class=\"button is-light is-small\">\n        Ok\n      </button>\n    </div>\n  </form>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\n\nimport { NgxWeditorService } from '../../ngx-weditor.service'\nimport { UtilsService } from '../../shared/services/utils/utils.service'\n\n@Component({\n  selector: 'app-link-form',\n  templateUrl: './link-form.component.html',\n  styleUrls: ['./link-form.component.scss']\n})\nexport class LinkFormComponent implements OnInit {\n  @Input() popoverRef: any\n  @Output() save: EventEmitter<any> = new EventEmitter<any>()\n\n  form: FormGroup\n  hasSelectedText = false\n  selectionData: any = {}\n\n  constructor(\n    private fb: FormBuilder,\n    public utils: UtilsService,\n    public editor: NgxWeditorService\n  ) {}\n\n  ngOnInit() {\n    this.hasSelectedText = !!this.editor.selectedText\n    this.buildForm()\n\n    this.selectionData = this.editor.selection\n      ? this.editor.selection.endContainer.parentNode\n      : {}\n\n    if (this.hasSelectedText) {\n      const formData =\n        this.selectionData.localName === 'a'\n          ? {\n              link: this.selectionData.href,\n              target: this.getTarget(this.selectionData.target),\n              text: this.selectionData.text\n            }\n          : {\n              text: this.editor.selectedText\n            }\n\n      this.form.patchValue({ ...formData })\n    }\n  }\n\n  handleSubmit() {\n    const { text, link, target } = this.form.value\n    const { valid } = this.form\n    const targetValue = target ? '_blank' : '_self'\n    const textValue = !!text\n      ? text\n      : this.hasSelectedText\n      ? this.editor.selectedText\n      : link\n\n    if (valid) {\n      this.utils.restoreSelection(this.editor.selection)\n      this.save.emit({\n        key: 'insertHTML',\n        value: `<a href=\"${link}\" target=\"${targetValue}\">${textValue}</a>`\n      })\n      this.popoverRef.hide()\n    } else {\n      // this.feedback.error = `All fields are required!`;\n    }\n  }\n\n  resetForm() {\n    if (this.form) {\n      this.form.reset()\n      this.buildForm()\n    }\n  }\n\n  private onError(err) {\n    console.log('error ', err)\n  }\n\n  private onDone() {\n    this.resetForm()\n  }\n\n  private buildForm() {\n    this.form = this.fb.group({\n      text: [''],\n      link: ['http://', Validators.required],\n      target: [false]\n    })\n  }\n\n  private getTarget(target) {\n    return target === '_self' ? false : true\n  }\n}\n","<div class=\"link-form\">\n  <h6 class=\"subtitle is-6\">Link configuration</h6>\n  <form novalidate (ngSubmit)=\"handleSubmit()\" [formGroup]=\"form\">\n    <div class=\"field\">\n      <div class=\"control\">\n        <input\n          type=\"text\"\n          class=\"input is-small\"\n          placeholder=\"Link text\"\n          formControlName=\"text\"\n        />\n      </div>\n    </div>\n\n    <div class=\"field\">\n      <div class=\"control\">\n        <input\n          type=\"text\"\n          class=\"input is-small\"\n          placeholder=\"Link URL\"\n          formControlName=\"link\"\n        />\n      </div>\n    </div>\n\n    <div class=\"form-check\">\n      <input\n        class=\"form-check-input\"\n        type=\"checkbox\"\n        formControlName=\"target\"\n      />\n      <label class=\"form-check-label\">\n        New window?\n      </label>\n    </div>\n    <div class=\"form-actions\">\n      <button type=\"submit\" class=\"button is-light is-small\">\n        Ok\n      </button>\n    </div>\n  </form>\n</div>\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Input,\n  HostListener,\n  ViewChild,\n  ElementRef\n} from '@angular/core'\nimport { Subject, Subscription, fromEvent } from 'rxjs'\nimport { distinctUntilChanged } from 'rxjs/operators'\n\n@Component({\n  selector: 'app-popover',\n  templateUrl: './popover.component.html',\n  styleUrls: ['./popover.component.scss']\n})\nexport class PopoverComponent implements OnInit, OnDestroy {\n  @ViewChild('popover') popover: ElementRef\n\n  showSubject = new Subject<boolean>()\n  showSubs = new Subscription()\n\n  show = false\n  active = false\n\n  ngOnInit() {\n    this.showSubject.asObservable().subscribe((show) => {\n      this.show = show\n    })\n\n    this.showSubs = fromEvent(document, 'click')\n      .pipe(distinctUntilChanged())\n      .subscribe((event) => {\n        const clickedInside = this.popover.nativeElement.contains(event.target)\n\n        if (this.active && !clickedInside) {\n          this.show = false\n        }\n\n        this.active = this.show\n      })\n  }\n\n  ngOnDestroy() {\n    this.showSubs.unsubscribe()\n  }\n\n  hide() {\n    this.showSubject.next(false)\n  }\n\n  toggle() {\n    this.showSubject.next(!this.show)\n  }\n}\n","<div class=\"popover\" [ngStyle]=\"{ display: show ? 'block' : 'none' }\" #popover>\n  <div class=\"popover__arrow\"></div>\n\n  <div class=\"popover__content\">\n    <ng-content></ng-content>\n  </div>\n</div>\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core'\n\nimport { NgxWeditorService } from '../ngx-weditor.service'\n\n@Component({\n  selector: 'app-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss']\n})\nexport class ToolbarComponent implements OnInit {\n  @Output() apply = new EventEmitter<object>()\n  @Output() showCode = new EventEmitter<any>()\n\n  showImageSettings = false\n\n  private innerText: string\n\n  constructor(public editor: NgxWeditorService) {}\n\n  get disabledToolbar() {\n    return this.editor.disabledToolbar\n  }\n\n  ngOnInit() {\n    this.editor.innerText.subscribe((text) => (this.innerText = text))\n  }\n\n  get charactersLen(): number {\n    return this.innerText ? this.innerText.length : 0\n  }\n\n  applyStyle(style: object): void {\n    this.apply.emit(style)\n  }\n\n  showInnerCode() {\n    this.showCode.emit()\n  }\n}\n","<div class=\"toolbar\">\n  <!-- Heading and text -->\n  <div class=\"btn-group field has-addons\">\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        class=\"button\"\n        title=\"Heading 1\"\n        [disabled]=\"disabledToolbar\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'h1' })\"\n      >\n        <span>H1</span>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Heading 2\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'h2' })\"\n      >\n        H2\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Heading 3\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'h3' })\"\n      >\n        H3\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Heading 4\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'h4' })\"\n      >\n        H4\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Heading 5\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'h5' })\"\n      >\n        H5\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Heading 6\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'h6' })\"\n      >\n        H6\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Paragraph\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'p' })\"\n      >\n        P\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Preformatted text\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'pre' })\"\n      >\n        pre\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Quote/unquote selection or paragraph\"\n        (click)=\"applyStyle({ key: 'formatBlock', value: 'blockquote' })\"\n      >\n        <i class=\"fas fa-quote-right\"></i>\n      </button>\n    </div>\n  </div>\n\n  <!-- Formatting -->\n  <div class=\"btn-group field has-addons\">\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Bold\"\n        (click)=\"applyStyle({ key: 'bold' })\"\n      >\n        <i class=\"fas fa-bold\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Italic\"\n        (click)=\"applyStyle({ key: 'italic' })\"\n      >\n        <i class=\"fas fa-italic\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Underline\"\n        (click)=\"applyStyle({ key: 'underline' })\"\n      >\n        <i class=\"fas fa-underline\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Strikethrough\"\n        (click)=\"applyStyle({ key: 'strikeThrough' })\"\n      >\n        <i class=\"fas fa-strikethrough\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Unordered List\"\n        (click)=\"applyStyle({ key: 'insertUnorderedList' })\"\n      >\n        <i class=\"fas fa-list-ul\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Ordered List\"\n        (click)=\"applyStyle({ key: 'insertOrderedList' })\"\n      >\n        <i class=\"fas fa-list-ol\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Redo\"\n        (click)=\"applyStyle({ key: 'redo' })\"\n      >\n        <i class=\"fas fa-redo-alt\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Undo\"\n        (click)=\"applyStyle({ key: 'undo' })\"\n      >\n        <i class=\"fas fa-undo\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Clear formatting\"\n        (click)=\"applyStyle({ key: 'removeFormat' })\"\n      >\n        <i class=\"fas fa-ban\"></i>\n      </button>\n    </div>\n  </div>\n\n  <!-- Aligment -->\n  <div class=\"btn-group field has-addons\">\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Align text left\"\n        (click)=\"applyStyle({ key: 'justifyLeft' })\"\n      >\n        <i class=\"fas fa-align-left\"></i>\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Center text\"\n        (click)=\"applyStyle({ key: 'justifyCenter' })\"\n      >\n        <i class=\"fas fa-align-center\"></i>\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Align text right\"\n        (click)=\"applyStyle({ key: 'justifyRight' })\"\n      >\n        <i class=\"fas fa-align-right\"></i>\n      </button>\n    </div>\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Justify text\"\n        (click)=\"applyStyle({ key: 'justifyFull' })\"\n      >\n        <i class=\"fas fa-align-justify\"></i>\n      </button>\n    </div>\n    <!--<div class=\"control\">\n\n      <button type=\"button\" [disabled]=\"disabledToolbar\" class=\"button\" title=\"Increase indent\" (click)=\"applyStyle({ key: 'indent' })\"><i class=\"fas fa-indent\"></i></button>\n      <div class=\"control\">\n\n      </div>\n      <button type=\"button\" [disabled]=\"disabledToolbar\" class=\"button\" title=\"Decrease indent\" (click)=\"applyStyle({ key: 'outdent' })\"><i class=\"fas fa-outdent\"></i></button> -->\n  </div>\n\n  <!-- Media and state -->\n  <div class=\"btn-group field has-addons\">\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Horizontal line\"\n        (click)=\"applyStyle({ key: 'insertHorizontalRule' })\"\n      >\n        &mdash;\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        class=\"button\"\n        title=\"Insert Image\"\n        [disabled]=\"disabledToolbar\"\n        (click)=\"imagePopover?.toggle()\"\n      >\n        <i class=\"fa fa-image\"></i>\n      </button>\n      <app-popover #imagePopover>\n        <app-image-form\n          [popoverRef]=\"imagePopover\"\n          (save)=\"applyStyle($event)\"\n        ></app-image-form>\n      </app-popover>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        class=\"button\"\n        title=\"Insert / edit link\"\n        [disabled]=\"disabledToolbar\"\n        (click)=\"linkPopover?.toggle()\"\n      >\n        <i class=\"fas fa-link\"></i>\n      </button>\n\n      <app-popover #linkPopover>\n        <app-link-form\n          [popoverRef]=\"linkPopover\"\n          (save)=\"applyStyle($event)\"\n        ></app-link-form>\n      </app-popover>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Remove link\"\n        (click)=\"applyStyle({ key: 'unlink' })\"\n      >\n        <i class=\"fas fa-unlink\"></i>\n      </button>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        class=\"button\"\n        title=\"Insert Youtube video\"\n        [disabled]=\"disabledToolbar\"\n        (click)=\"videoPopover?.toggle()\"\n      >\n        <i class=\"fa fa-video\"></i>\n      </button>\n\n      <app-popover #videoPopover>\n        <app-video-form\n          [popoverRef]=\"videoPopover\"\n          (save)=\"applyStyle($event)\"\n        ></app-video-form>\n      </app-popover>\n    </div>\n\n    <div class=\"control\">\n      <button\n        type=\"button\"\n        class=\"button\"\n        title=\"Show Code\"\n        (click)=\"showInnerCode()\"\n      >\n        <i class=\"fas fa-code\"></i>\n      </button>\n    </div>\n    <!-- <div class=\"control\">\n      <button\n        type=\"button\"\n        [disabled]=\"disabledToolbar\"\n        class=\"button\"\n        title=\"Math Formula\"\n      >\n        <i class=\"fas fa-subscript\"></i> / <i class=\"fas fa-divide\"></i>\n      </button>\n    </div> -->\n    <div class=\"control\">\n      <button type=\"button\" class=\"button\" title=\"Characters\" disabled>\n        Chars: {{ charactersLen }}\n      </button>\n    </div>\n  </div>\n</div>\n\n<!-- Popover Templates -->\n<!-- <ng-template #imageTemplate>\n  <app-image-form (save)=\"applyStyle($event)\"></app-image-form>\n</ng-template> -->\n\n<!-- <ng-template #linkTemplate>\n  <app-link-form (save)=\"applyStyle($event)\"></app-link-form>\n</ng-template>\n\n<ng-template #videoTemplate>\n  <app-video-form (save)=\"applyStyle($event)\"></app-video-form>\n</ng-template> -->\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\n\nimport { NgxWeditorService } from '../../ngx-weditor.service'\nimport { UtilsService } from '../../shared/services/utils/utils.service'\n\n@Component({\n  selector: 'app-video-form',\n  templateUrl: './video-form.component.html',\n  styleUrls: ['./video-form.component.scss']\n})\nexport class VideoFormComponent implements OnInit {\n  @Input() popoverRef: any\n  @Output() save: EventEmitter<any> = new EventEmitter<any>()\n\n  form: FormGroup\n  hasSelectedText = false\n  selectionData: any = {}\n\n  constructor(\n    private fb: FormBuilder,\n    public utils: UtilsService,\n    public editor: NgxWeditorService\n  ) {}\n\n  ngOnInit() {\n    this.hasSelectedText = !!this.editor.selectedText\n    this.buildForm()\n\n    this.selectionData = this.editor.selection\n      ? this.editor.selection.endContainer.parentNode\n      : {}\n  }\n\n  handleSubmit() {\n    const { link } = this.form.value\n    const { valid } = this.form\n\n    if (valid) {\n      const isValidURL = this.verifyURL(link)\n\n      if (isValidURL) {\n        const urlObj = this.parseURL(link)\n        const imageSrc = `https://img.youtube.com/vi/${urlObj.id}/0.jpg`\n\n        this.utils.restoreSelection(this.editor.selection)\n        this.save.emit({\n          key: 'insertHTML',\n          value: `<div class=\"image-wrapper\">\n            <img src=\"${imageSrc}\" appResizableImage (update)=\"updateResizer($event)\" data-video=\"${link}\">\n          </div>`\n        })\n        this.popoverRef.hide()\n      }\n    } else {\n      // this.feedback.error = `All fields are required!`;\n    }\n  }\n\n  resetForm() {\n    if (this.form) {\n      this.form.reset()\n      this.buildForm()\n    }\n  }\n\n  private onError(err) {\n    console.log('error ', err)\n  }\n\n  private onDone() {\n    this.resetForm()\n  }\n\n  private buildForm() {\n    this.form = this.fb.group({\n      link: ['http://', Validators.required]\n    })\n  }\n\n  private verifyURL(url: string) {\n    return /(youtube\\.com\\/watch\\?v=\\w+)+/.test(url)\n  }\n\n  private parseURL(url: string) {\n    const splitted = url.split('v=')\n    return {\n      id: splitted[1]\n    }\n  }\n}\n","<div class=\"video-form\">\n  <h6 class=\"subtitle is-6\">Video configuration</h6>\n  <form novalidate (ngSubmit)=\"handleSubmit()\" [formGroup]=\"form\">\n    <div class=\"field\">\n      <div class=\"control\">\n        <input\n          type=\"text\"\n          class=\"input is-small\"\n          placeholder=\"Video URL\"\n          formControlName=\"link\"\n        />\n      </div>\n    </div>\n    <div class=\"form-actions\">\n      <button type=\"submit\" class=\"button is-light is-small\">\n        Ok\n      </button>\n    </div>\n  </form>\n</div>\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent implements OnInit {\n  form: FormGroup\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit() {\n    this.buildForm()\n    this.form.patchValue({\n      content: '<h2>Welcome to Ngx Weditor!</h2><p>Replace this content</p>'\n    })\n  }\n\n  handleSubmit() {\n    const { content } = this.form.value\n    const { valid } = this.form\n\n    if (valid) {\n      console.log('content is ', content)\n    } else {\n      console.log('invalid form ')\n    }\n  }\n\n  private buildForm() {\n    this.form = this.fb.group({\n      content: ['', Validators.required]\n    })\n  }\n}\n","<div class=\"wapp\">\n  <form novalidate (ngSubmit)=\"handleSubmit()\" [formGroup]=\"form\">\n    <ngx-weditor formControlName=\"content\"></ngx-weditor>\n  </form>\n</div>\n<div><code>{{ form.value.content }}</code></div>\n","import { BrowserModule } from '@angular/platform-browser'\nimport { NgModule } from '@angular/core'\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms'\n\nimport { AppComponent } from './app.component'\nimport { NgxWeditorModule } from '../../../ngx-weditor/src/lib/ngx-weditor.module'\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule, ReactiveFormsModule, FormsModule, NgxWeditorModule],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}